<nb-card>
  <nb-card-header>{{'PRODUCT_ATTRIBUTES.PRODUCT_OPTIONS_ATTRIBUTES' | translate}}</nb-card-header>
  <nb-card-body *ngIf="data.length; else empty">
    <nb-actions size="medium" class="back-button">
      <nb-action>
        <i class="fas fa-plus"></i>&nbsp;
        <a [routerLink]="['/pages/catalogue/products/' + productId + '/create-attribute']">
          {{ 'COMPONENTS.CREATE_PRODUCT_ATTRIBUTES' | translate}}
        </a>
      </nb-action>
    </nb-actions>
    <div *ngIf="loader" [nbSpinner]="loader" nbSpinnerSize="large" nbSpinnerStatus="primary"></div>
    <p-treeTable [value]="data" *ngIf="!loader">
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Size</th>
          <th>Type</th>
          <th>Details</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowNode let-rowData="rowData">
        <tr *ngIf="!rowData.parent">
          <td>
            <p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>
            {{rowData.name}}
          </td>
          <td>{{rowData.size}}</td>
          <td>{{rowData.type}}</td>
          <td>
            <a [routerLink]="['/pages/catalogue/products/' + productId + '/attribute/' + rowData.id]">
              {{ 'COMMON.DETAILS' | translate}}
            </a>
          </td>
        </tr>
        <tr *ngIf="rowData.parent">
          <td colspan="3">
            <p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>
            {{rowData.name}}
          </td>
        </tr>
      </ng-template>
    </p-treeTable>
  </nb-card-body>
  <ng-template #empty>
    <div class="no-items">
      {{'COMMON.NO_ITEMS' | translate}}
    </div>
  </ng-template>
</nb-card>
